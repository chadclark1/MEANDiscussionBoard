<div ng-controller="messagesController">


	<div class="col-sm-12">
		<h2 class="col-sm-6">MEAN Wall</h2>
		<button class="col-sm-1 col-sm-offset-5 right btn btn-danger" ng-click = "signOut()">Sign Out</button>
		
		<div class="col-sm-10 col-sm-offset-1 centered">
			<form class="form-group" ng-submit='postMessage()' name='messageForm'>
				<div class="form-group">
					<label>Post a message:</label>
					<textarea type="text" class="form-control" placeholder="Type message here:" ng-model="message.message"></textarea>
					<span ng-show="errors.data.error">{{ errors.data.error }}</span>
				</div>
				<input type="submit" class="btn btn-primary" value="Post Message">
			</form>
		</div>
		

		<div class="col-sm-10 col-sm-offset-1 centered" style="border: 2px solid #ddd; border-radius: 3px; padding: 10px; margin: 10px">
			<div ng-repeat="post in posts track by $index" >
				<div class="user_name"> <h5 style="font-weight: 600">{{post.user}} says:</h5> </div>
				<div class="user_message">
					<p>{{ post.message }}</p>
				</div>
				<div class="col-sm-11 col-sm-offset-1 centered">
					<form class="form-group" ng-submit='postComment()' name='commentForm'>
						<div class="form-group">
							<label>Post a comment:</label>
							<textarea type="text" class="form-control" placeholder="Type comment here:" ng-model="comment.comment"></textarea>
							<input type="hidden" value="{{ post._id }}">
							<span ng-show="errors.data.error">{{ errors.data.error }}</span>
						</div>
						<input type="submit" class="btn btn-primary" value="Post Comment">
					</form>
				</div>
			</div>
		</div>


	</div>

	<div class="col-sm-12">
		<button ng-click = "getCookies()" class="btn btn-danger">Cookies!</button>
	</div>

</div>